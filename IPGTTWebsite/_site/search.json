[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "kyyeee.github.io",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html#quarto",
    "href": "index.html#quarto",
    "title": "kyyeee.github.io",
    "section": "Quarto",
    "text": "Quarto\nQuarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "index.html#running-code",
    "href": "index.html#running-code",
    "title": "kyyeee.github.io",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n# code for IPGTT_tidy_data_corrected\n\n# opening libraries\n\nlibrary(plotly)\n\nLoading required package: ggplot2\n\n\n\nAttaching package: 'plotly'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks plotly::filter(), stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(see)\nlibrary(ggokabeito)\nlibrary(here)\n\nhere() starts at C:/Users/khopkins/Documents/kyyeee.github.io/IPGTTWebsite\n\nlibrary(conflicted)\nlibrary(emmeans)\n\nWelcome to emmeans.\nCaution: You lose important information if you filter this package's results.\nSee '? untidy'\n\nconflicted::conflicts_prefer(dplyr::filter)\n\n[conflicted] Will prefer dplyr::filter over any other package.\n\n# create file\nlibrary(readxl)\nIPGTT_tidy_data_corrected &lt;- read_excel(here(\"IPGTT_tidy_data_corrected.xlsx\"))\nView(IPGTT_tidy_data_corrected)\n\n\n\nclean2_IPGTT_data &lt;- IPGTT_tidy_data_corrected\n\n\nclean2_IPGTT_data %&gt;% View()\n\n# previous variable names\n\n# names(clean2_IPGTT_data)\n\n# [1] \"Mouse\" \"BW\" \"Test Week\" \"Genotype\"\n\n# [5] \"Sex\" \"Time Point\" \"Glucose Reading\"\n\n# naming variables\n\n\n# naming variables\nnames(clean2_IPGTT_data) &lt;- c(\"mouse\", \"body_weight\", \"test_week\", \"genotype\", \"sex\", \"minutes\", \"glucose\")\n\n# replace \"nan\"s and \"Mouse\" in mouse variable\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(mouse = ifelse(mouse == \"nan\", NA, mouse))\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(mouse = ifelse(mouse == \"Mouse\", NA, mouse))\n\n# removing NA's from mouse variable\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% filter(!is.na(mouse))\n\n# add unique ids for each mouse\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(mouse_id = paste(mouse, genotype, sep = \"_\"))\n\n# ordering variables\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% select(mouse_id, mouse, genotype, sex, test_week, minutes, everything())\n\n# viewing variable structure\nstr(clean2_IPGTT_data)\n\ntibble [1,968 × 8] (S3: tbl_df/tbl/data.frame)\n $ mouse_id   : chr [1:1968] \"LP_KO-NOD\" \"LP_KO-NOD\" \"LP_KO-NOD\" \"LP_KO-NOD\" ...\n $ mouse      : chr [1:1968] \"LP\" \"LP\" \"LP\" \"LP\" ...\n $ genotype   : chr [1:1968] \"KO-NOD\" \"KO-NOD\" \"KO-NOD\" \"KO-NOD\" ...\n $ sex        : chr [1:1968] \"F\" \"F\" \"F\" \"F\" ...\n $ test_week  : num [1:1968] 1 2 3 4 5 6 7 8 9 10 ...\n $ minutes    : chr [1:1968] \"0 min\" \"0 min\" \"0 min\" \"0 min\" ...\n $ body_weight: num [1:1968] 21.5 23.8 24.6 22.8 25.4 24.8 25.3 25.5 25 25.8 ...\n $ glucose    : num [1:1968] 114 114 133 96 158 155 155 161 137 252 ...\n\n# changing \"sex\" and \"genotype\" variable to factor (change levels)\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(sex = as_factor(sex))\n\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;%\n  mutate(genotype = factor(genotype, levels = c(\"WT-WT\", \"Het-NOD\", \"KO-NOD\")))\n\n# removing \"min\" from minutes variable\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(minutes = str_replace(minutes, \" min\", \"\"))\n\n# changing \"minutes\" variable to numeric\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% mutate(minutes = as.numeric(minutes))\n\n# summary of variables\nsummary(clean2_IPGTT_data)\n\n   mouse_id            mouse              genotype    sex        test_week     \n Length:1968        Length:1968        WT-WT  : 240   F:1968   Min.   : 1.000  \n Class :character   Class :character   Het-NOD: 288            1st Qu.: 3.000  \n Mode  :character   Mode  :character   KO-NOD :1440            Median : 6.000  \n                                                               Mean   : 6.378  \n                                                               3rd Qu.: 9.000  \n                                                               Max.   :12.000  \n                                                                               \n    minutes        body_weight       glucose     \n Min.   :  0.00   Min.   :16.60   Min.   :  5.0  \n 1st Qu.:  4.50   1st Qu.:20.07   1st Qu.: 68.0  \n Median : 22.50   Median :22.55   Median :118.0  \n Mean   : 37.83   Mean   :22.24   Mean   :168.5  \n 3rd Qu.: 63.75   3rd Qu.:24.50   3rd Qu.:172.0  \n Max.   :120.00   Max.   :26.20   Max.   :750.0  \n                  NA's   :1344    NA's   :1503   \n\n\n\n# creating data dictionary\ndata_dictionary &lt;- data.frame(\n  Variable = c(\n    \"mouse_id\", \"mouse\", \"genotype\", \"sex\", \"test_week\", \"minutes\", \"body_weight\", \"glucose\"\n  ),\n  Type = c(\n    \"Character\", \"Character\", \"Factor\", \"Factor\", \"Numeric\", \n    \"Numeric\", \"Numeric\", \"Numeric\"\n  ),\n  Description = c(\n    \"Unique identifier for each mouse\",\n    \"Where the the mouse was pierced or the given number to differentiate\",\n    \"the genotype of the mouse\",\n    \"Gender of the mouse\",\n    \"The week of testing the results were taken\",\n    \"Minutes after glucose intake (minutes)\",\n    \"Weight of the mouse in grams (grams)\",\n    \"Amount of glucose in the mouse's bloodstream (mg/dL)\"\n  ),\n  PossibleValues = c(\n    \"unique mouse string + genotype\",\n    \"mouse string\",\n    \"genotype \",\n    \"Male, Female, Male/Female\",\n    \"Positive numbers\",\n    \"Positive numbers\",\n    \"Positive numbers\",\n    \"Positive numbers\"\n  ),\n  Example = c(\n    \"203_KO-NOD, RP_Het-NOD, ...\",\n    \"LF, MP, 203, 205, ...\",\n    \"KO-NOD, Het-NOD, WT-WT, ...\",\n    \"'M', 'F'\",\n    \"1, 2, 3, 12, ...\",\n    \"0, 60, 120, ...\",\n    \"24.5, 22.9, ...\",\n    \"67, 100, ...\"\n  )\n)"
  },
  {
    "objectID": "index.html#load-library-and-datasets",
    "href": "index.html#load-library-and-datasets",
    "title": "kyyeee.github.io",
    "section": "load library and datasets",
    "text": "load library and datasets\n\n# load libraries\nlibrary(tidyverse)\n\nokabe_ito_palette &lt;- rep(grDevices::palette.colors(palette = \"Okabe-Ito\"))\n\n# assign colors\ngenotype_colors &lt;- c(\"WT-WT\" = \"#009E73\", \"Het-NOD\" = \"#D55E00\", \"KO-NOD\" = \"#56B4E9\")\n\n\n#assign data\nmean_glucose_testweek &lt;- clean2_IPGTT_data %&gt;%\n  group_by(test_week) %&gt;%\n  summarize(mean_glucose = mean(glucose, na.rm = TRUE))\n\ncombined_data &lt;- clean2_IPGTT_data %&gt;%\n  select(test_week, glucose, genotype)\n\ncombined_data$test_week &lt;- factor(combined_data$test_week, levels = sort(unique(combined_data$test_week)))\n\navg_data &lt;- clean2_IPGTT_data %&gt;%\n  group_by(test_week) %&gt;%\n  summarize(\n    avg_body_weight = mean(body_weight, na.rm = TRUE),\n    avg_glucose = mean(glucose, na.rm = TRUE),\n    .groups = 'drop'\n  )"
  },
  {
    "objectID": "index.html#mixed-model",
    "href": "index.html#mixed-model",
    "title": "kyyeee.github.io",
    "section": "mixed model",
    "text": "mixed model\n\nlibrary(readr)\nlibrary(dplyr)\nlibrary(lme4)\nlibrary(ggplot2)\nlibrary(ggeffects)\n\n\n\n# change variables to factors and re-level variables\nclean2_IPGTT_data &lt;- clean2_IPGTT_data %&gt;% \n  mutate(\n    test_week_factor = factor(test_week, levels = c(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\")),\n    minutes_factor = factor(minutes, levels = c(\"1\", \"3\", \"5\", \"10\", \"15\", \"30\", \"60\", \"90\", \"120\"))\n  )\n\n\n# filter just week 1\nclean2_IPGTT_data %&gt;%\n  filter(test_week == 1) %&gt;% na.omit() -&gt; week1_data_omit\n\n# mixed-effects model1\nmixed_model1 &lt;- lmer(glucose ~ minutes * genotype + \n                      (1|mouse_id),\n                    data = week1_data_omit)\n\n# mixed-effects model2\nmixed_model2 &lt;- lmer(glucose ~ minutes + test_week + genotype + \n                      (1|mouse_id) + \n                      (0 + test_week|mouse_id),\n                    data = clean2_IPGTT_data)\n\n# summary\n\nemmm &lt;- emmeans(mixed_model1, specs = ~ genotype | minutes)\n\nCannot use mode = \"kenward-roger\" because *pbkrtest* package is not installed\n\n\nCannot use mode = \"satterthwaite\" because *lmerTest* package is not installed\n\nbroom.mixed::tidy(emmm)\n\n# A tibble: 3 × 7\n  genotype minutes estimate std.error    df statistic  p.value\n  &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 WT-WT       37.4    200.      12.9    Inf     15.4  8.10e-54\n2 Het-NOD     37.4    127.      15.0    Inf      8.46 2.68e-17\n3 KO-NOD      37.4     93.2      5.91   Inf     15.8  5.71e-56\n\n# Predictions\n# predictions &lt;- ggpredict(mixed_model1, terms = c(\"minutes\", \"genotype\", \"test_week\"))\n\n# predictions as a data frame\n# pred_df &lt;- as.data.frame(predictions)\n\n# differences\ncontrast_results &lt;- pairs(emmm, interaction = \"pairwise\")\n\n# convert to df\ndf_contrast &lt;- broom.mixed::tidy(contrast_results)\n\nc &lt;- ggplot(df_contrast, aes(x = minutes, y = estimate, color = genotype_pairwise, group = genotype_pairwise)) +\n  geom_line() +\n  geom_point() +\n  geom_errorbar(aes(ymin = estimate - std.error, ymax = estimate + std.error), width = 0.1) +\n  theme_minimal() +\n  facet_wrap(~ genotype_pairwise) +\n  labs(title = \"Differences in Means Between Genotypes (Week 1)\",\n       x = \"Time Point\",\n       y = \"Pairwise difference\")\nggplotly(c)"
  }
]